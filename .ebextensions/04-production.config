# Production environment specific configuration
# This file is used when deploying to production environment

option_settings:
  # Production instance configuration
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.small
    
  # Production auto scaling configuration
  aws:autoscaling:asg:
    MinSize: 2
    MaxSize: 6
    
  # Auto scaling triggers for production
  aws:autoscaling:trigger:
    MeasureName: CPUUtilization
    Unit: Percent
    UpperThreshold: 70
    LowerThreshold: 30
    ScaleUpIncrement: 1
    ScaleDownIncrement: -1
    BreachDuration: 5
    Period: 5
    EvaluationPeriods: 1
    Statistic: Average
    
  # Production environment variables
  aws:elasticbeanstalk:application:environment:
    SPRING_PROFILES_ACTIVE: production
    
    # Production memory configuration
    JAVA_OPTS: "-Xmx512m -Xms256m -server"
    
    # Security settings
    SPRING_H2_CONSOLE_ENABLED: false
    
    # JPA configuration for production
    SPRING_JPA_HIBERNATE_DDL_AUTO: validate
    SPRING_JPA_SHOW_SQL: false
    SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL: false
    
    # Production logging
    LOGGING_LEVEL_COM_INVENTORY_API: INFO
    LOGGING_LEVEL_ORG_SPRINGFRAMEWORK: WARN
    LOGGING_LEVEL_ORG_HIBERNATE: WARN
    
  # Production platform configuration
  aws:elasticbeanstalk:container:java:
    Xmx: 512m
    Xms: 256m
    JVMOptions: "-Dspring.profiles.active=production -server"
    
  # Enhanced health reporting for production
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: enhanced
    EnhancedHealthAuthEnabled: true